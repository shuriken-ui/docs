---
title: 'Component Anatomy'
description: 'Meta description of the page'
layout: 'default'
---

# Component Anatomy

In this section we will go through the anatomy of a Shuriken UI component. We will use the `Button` component as an example.

## The plugin approach

After scratching our heads for a while, we came up with the idea of creating a Tailwind CSS plugin that would allow us to use the same components across different frameworks, while keeping the same Tailwind CSS classes. This is how `@shuriken-ui/tailwind` was born. Components would be identified by real life class names, like `.button` or `.input`.

## General anatomy

After making sure that this approach was viable, we decided to implement additional features that would make this package a unique source of truth, and a clean starting base when looking to implement javascript components in today's most popular frameworks, like `Nuxt`, `React` and `Next.js`. Therefore, we came up with a pretty unique file structure that would give valuable information on the component. Each component is defined in its own folder, and is composed of the following files:

* `index.ts`: the component CSS definition, using a combination of Tailwind CSS classes and custom CSS classes.
* `component.types.ts`: the component typescript definition, including the component props, events and slots.
* `component.variants.ts`: the component variants definition, including the component variants, and their respective CSS classes.
* `component.component.ts`: the component javascript definition written using [Lit-html](https://lit.dev/docs/libraries/standalone-templates/), including the component logic, and the component template.
* `component.config.ts`: the component configuration, including the component default styles, for each one of its parts and its variants.
* `component.stories.ts`: the component storybook definition, including the component stories, and its variants.
* `component.docs.mdx`: the component documentation, including the component description, examples, and more.
* `component.test.ts`: the component test file, including the component unit tests.

::info-block{icon='simple-icons:tailwindcss'}
You should be familiar with Tailwind CSS and its concepts before using Shuriken UI. If not, you should go through the Tailwind CSS [documentation](https://tailwindcss.com) and make some experiments in the Tailwind CSS official [playground](https://play.tailwindcss.com/).
#title
Important note
::

### CSS definition

The CSS definition is the most important file of the component. It is the file that will be used by the Tailwind CSS plugin to generate the CSS classes. It is also the file that will be used by the component itself to generate the component styles. It is composed of a combination of Tailwind CSS classes and custom CSS classes. The custom CSS classes are defined in the `index.ts` file.

::code-group

```js [index.ts]
import plugin from 'tailwindcss/plugin'
import { type ButtonConfig, defaultConfig, key } from './button.config'

const config = {
  theme: {
    nui: {
      button: defaultConfig,
    },
  },
}

export default plugin(({ addComponents, theme }) => {
  const config = theme(`nui.${key}`) satisfies ButtonConfig

  addComponents({
    '.nui-button': {
      // Custom CSS classes and definitions
    },
  })
}, config)
```

::

### Types definition

The types definition is the file that will be used by the Tailwind CSS plugin to generate the CSS classes. It is also the file that will be used by the component itself to generate the component styles. It is composed of a combination of Tailwind CSS classes and custom CSS classes. The custom CSS classes are defined in the `button.types.ts` file.

::code-group

```js [button.types.ts]
import type { PropertyVariant } from '~/types/utils'

export interface ButtonProps extends Record<string, unknown> {
  label?: string
  loading?: boolean
  badge?: boolean
  size?: 'sm' | 'md' | 'lg' | 'xl'
  rounded?: 'none' | 'sm' | 'md' | 'lg' | 'full'
  variant?: 'solid' | 'pastel' | 'outline'
  color?:
    | 'default'
    | 'light'
    | 'muted'
    | 'primary'
    | 'info'
    | 'success'
    | 'warning'
    | 'danger'
    | 'none'
  shadow?: 'flat' | 'hover'
  classes?: {
    wrapper?: string | string[]
  }
}

export interface ButtonEvents {
  onClick?: () => void
}

export interface ButtonSlots {
  children?: any
}

export type ButtonAttrs = ButtonProps & ButtonEvents & ButtonSlots
export type ButtonVariant<T> = PropertyVariant<T, ButtonProps>
```

::


### Variants definition

The variants definition is the file that will be used by the Tailwind CSS plugin to generate the CSS classes. It is also the file that will be used by the component itself to generate the component styles. It is composed of a combination of Tailwind CSS classes and custom CSS classes. The custom CSS classes are defined in the `button.variants.ts` file.

::code-group

```js [button.variants.ts]
import type { ButtonVariant } from './button.types'

export const size = {
  sm: 'nui-button-small',
  md: 'nui-button-medium',
  lg: 'nui-button-large',
  xl: 'nui-button-big',
} as const satisfies ButtonVariant<'size'>

export const rounded = {
  none: '',
  sm: 'nui-button-rounded',
  md: 'nui-button-curved',
  lg: 'nui-button-smooth',
  full: 'nui-button-full',
} as const satisfies ButtonVariant<'rounded'>

export const variant = {
  solid: 'nui-button-solid',
  pastel: 'nui-button-pastel',
  outline: 'nui-button-outline',
} as const satisfies ButtonVariant<'variant'>

export const color = {
  none: '',
  default: 'nui-button-default',
  primary: 'nui-button-primary',
  info: 'nui-button-info',
  success: 'nui-button-success',
  warning: 'nui-button-warning',
  danger: 'nui-button-danger',
  light: 'nui-button-light',
  muted: 'nui-button-muted',
} as const satisfies ButtonVariant<'color'>

export const shadow = {
  flat: 'nui-button-shadow',
  hover: 'nui-button-shadow-hover',
} as const satisfies ButtonVariant<'shadow'>
```

::

### Component definition

The component definition is the file that will be used by the Tailwind CSS plugin to generate the CSS classes. It is also the file that will be used by the component itself to generate the component styles. It is composed of a combination of Tailwind CSS classes and custom CSS classes. The custom CSS classes are defined in the `button.component.ts` file.

::code-group

```js [button.component.ts]
import { html } from 'lit'
import { spread } from '@open-wc/lit-helpers'

import type { ButtonAttrs } from './button.types'
import * as variants from './button.variants'

/**
 * Primary UI component for user interaction
 */
export const Button = ({
  label,
  loading,
  badge,
  shadow,
  rounded,
  children,
  variant = 'solid',
  size = 'md',
  color = 'default',
  classes,
  onClick,
  ...attrs
}: ButtonAttrs) => {
  return html`
    <button
      class=${[
        'nui-button',
        variants.size[size],
        variants.variant[variant],
        variants.color[color],
        loading && 'nui-button-loading',
        rounded && variants.rounded[rounded],
        shadow && variants.shadow[shadow],
        classes?.wrapper,
      ]
        .filter(Boolean)
        .join(' ')}
      @click=${onClick}
      ${spread(attrs)}
    >
      ${loading
        ? /* @todo: replace nui-placeload with component */ html`
            <span
              class="nui-placeload animate-nui-placeload h-4 w-12 rounded"
            ></span>
          `
        : children ||
          html`
            <span>${label}</span>
          `}
      ${badge
        ? html`
            <span class="nui-button-badge">
              <span class="nui-button-badge-pulse"></span>
              <span class="nui-button-badge-inner"></span>
            </span>
          `
        : ''}
    </button>
  `
}
```

::

### Configuration definition

The configuration definition is the file that will be used by the Tailwind CSS plugin to generate the CSS classes. It is also the file that will be used by the component itself to generate the component styles. It is composed of a combination of Tailwind CSS classes and custom CSS classes. The custom CSS classes are defined in the `button.config.ts` file.

::code-group

```js [button.config.ts]
export const key = 'button' as const

export const defaultConfig = {
  font: {
    family: 'sans',
    weight: 'normal',
  },
  // rest of the config...
}

export type ButtonConfig = typeof defaultConfig
export interface ButtonPluginConfig {
  [key]: ButtonConfig
}
```
::

### Tests definition

The tests definition is the file that will be used by the Tailwind CSS plugin to generate the CSS classes. It is also the file that will be used by the component itself to generate the component styles. It is composed of a combination of Tailwind CSS classes and custom CSS classes. The custom CSS classes are defined in the `button.test.ts` file.

::code-group

```js [button.test.ts]
import { axe } from 'vitest-axe'
import { expect, test, describe } from 'vitest'
import { render, html } from 'lit'

import { Button } from './button.component'

describe('Button', () => {
  test('Should render slot', () => {
    const button = Button({
      children: html`
        <span>Hello world</span>
      `,
    })

    render(button, document.body)

    expect(document.body.querySelector('.nui-button')?.outerHTML)?.toContain(
      'Hello world',
    )
  })

  test('Should render label', () => {
    const button = Button({
      label: 'Hello world',
    })

    render(button, document.body)

    expect(document.body.querySelector('.nui-button')?.outerHTML)?.toContain(
      'Hello world',
    )
  })

  test('Should not render children on loading', () => {
    const button = Button({
      loading: true,
      children: html`
        <span>Hello world</span>
      `,
    })

    render(button, document.body)

    expect(
      document.body.querySelector('.nui-button')?.outerHTML,
    )?.not?.toContain('Hello world')
  })

  test('Should inherit attributes (boolean)', () => {
    const button = Button({
      children: html`
        <span>Hello world</span>
      `,
      '?disabled': true,
    })

    render(button, document.body)

    expect(document.body.querySelector('.nui-button')?.outerHTML)?.toContain(
      'disabled',
    )
  })

  test('Should inherit attributes (data-nui)', () => {
    const button = Button({
      children: html`
        <span>Hello world</span>
      `,
      'data-nui-tooltip': 'test tooltip',
    })

    render(button, document.body)

    expect(document.body.querySelector('.nui-button')?.outerHTML)?.toContain(
      'test tooltip',
    )
  })

  test('Should have no axe violations', async () => {
    const button = Button({
      children: html`
        <span>Hello world</span>
      `,
    })

    render(button, document.body)

    expect(
      await axe(document.body.querySelector('.nui-button')!.outerHTML),
    )?.toHaveNoViolations()
  })
})
```
::